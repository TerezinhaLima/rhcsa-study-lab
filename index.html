<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üêß RHCSA Study Lab - Laborat√≥rio Completo</title>
    
    <!-- Bootstrap 5 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Estilos Customizados -->
    <style>
        :root {
            --primary-color: #e00;
            --secondary-color: #333;
            --success-color: #28a745;
            --warning-color: #ffc107;
            --danger-color: #dc3545;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            padding-bottom: 60px;
        }
        
        body.dark-mode {
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
            color: #e0e0e0;
        }
        
        .navbar-brand {
            font-weight: bold;
            font-size: 1.5rem;
        }
        
        .hero-section {
            background: linear-gradient(135deg, #2c3e50 0%, #4a6491 100%);
            color: white;
            padding: 80px 0;
            margin-bottom: 40px;
            border-radius: 0 0 20px 20px;
        }
        
        .card {
            border: none;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s;
            margin-bottom: 20px;
        }
        
        .card:hover {
            transform: translateY(-5px);
        }
        
        .questao-card {
            border-left: 4px solid var(--primary-color);
        }
        
        .questao-concluida {
            border-left: 4px solid var(--success-color);
            background-color: #f8fff9;
        }
        
        body.dark-mode .questao-concluida {
            background-color: #1a3a1a;
        }
        
        .badge-dificuldade {
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
        }
        
        .badge-facil {
            background-color: #d4edda;
            color: #155724;
        }
        
        .badge-medio {
            background-color: #fff3cd;
            color: #856404;
        }
        
        .badge-dificil {
            background-color: #f8d7da;
            color: #721c24;
        }
        
        .terminal-container {
            background-color: #1e1e1e;
            color: #f8f8f2;
            font-family: 'Courier New', monospace;
            padding: 20px;
            border-radius: 8px;
            height: 400px;
            overflow-y: auto;
        }
        
        .terminal-output {
            margin-bottom: 10px;
            line-height: 1.4;
        }
        
        .terminal-prompt {
            color: #50fa7b;
        }
        
        .terminal-command {
            color: #8be9fd;
        }
        
        .terminal-error {
            color: #ff5555;
        }
        
        .terminal-success {
            color: #50fa7b;
        }
        
        .terminal-info {
            color: #8be9fd;
        }
        
        .terminal-hint {
            color: #ffb86c;
        }
        
        .tab-content {
            padding: 20px;
            background: white;
            border-radius: 0 0 8px 8px;
        }
        
        body.dark-mode .tab-content {
            background: #2d2d2d;
        }
        
        .nav-tabs .nav-link.active {
            background: white;
            border-bottom-color: white;
            font-weight: bold;
        }
        
        body.dark-mode .nav-tabs .nav-link.active {
            background: #2d2d2d;
            border-bottom-color: #2d2d2d;
        }
        
        .comando-exemplo {
            background: #f8f9fa;
            border-left: 4px solid #007bff;
            padding: 10px;
            font-family: 'Courier New', monospace;
            border-radius: 4px;
            margin: 10px 0;
            white-space: pre-wrap;
            word-break: break-all;
        }
        
        body.dark-mode .comando-exemplo {
            background: #1a1a1a;
        }
        
        .solucao-correta {
            background: #d4edda;
            border-left: 4px solid #28a745;
            padding: 10px;
            border-radius: 4px;
            margin: 10px 0;
            white-space: pre-wrap;
        }
        
        body.dark-mode .solucao-correta {
            background: #1a3a1a;
        }
        
        .dificuldade-facil {
            color: #28a745;
        }
        
        .dificuldade-medio {
            color: #ffc107;
        }
        
        .dificuldade-dificil {
            color: #dc3545;
        }
        
        .questao-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 10px;
        }
        
        .questao-id {
            font-size: 0.85rem;
            color: #6c757d;
        }
        
        .dificuldade {
            padding: 3px 10px;
            border-radius: 15px;
            font-size: 0.75rem;
            font-weight: bold;
        }
        
        .progress {
            height: 25px;
        }
        
        .comando-terminal {
            background: #2d2d2d;
            color: #fff;
            padding: 10px;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            margin: 5px 0;
        }
        
        .modal-xl-custom {
            max-width: 1100px;
        }
        
        @media (max-width: 768px) {
            .hero-section {
                padding: 60px 0;
            }
            
            .display-4 {
                font-size: 2rem;
            }
            
            .terminal-container {
                height: 300px;
            }
            
            .card {
                margin-bottom: 15px;
            }
            
            .modal-xl-custom {
                max-width: 95%;
            }
        }
        
        .text-terminal {
            font-family: 'Courier New', monospace;
            background: #f8f9fa;
            padding: 5px;
            border-radius: 3px;
        }
        
        body.dark-mode .text-terminal {
            background: #1a1a1a;
        }
    </style>
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" href="#">
                <i class="fab fa-redhat"></i> RHCSA Study Lab
            </a>
            <div class="navbar-nav ms-auto">
                <button id="darkModeToggle" class="btn btn-dark nav-link" style="border: none; cursor: pointer;">
                    <i class="fas fa-moon"></i> <span id="darkModeLabel">Modo Escuro</span>
                </button>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero-section">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-md-8">
                    <h1 class="display-4">üêß RHCSA Study Lab</h1>
                    <p class="lead">Laborat√≥rio virtual completo para estudo do exame RHCSA com corre√ß√£o autom√°tica e terminal interativo.</p>
                    <div class="badges mt-3">
                        <span class="badge bg-danger me-2">Red Hat Certified</span>
                        <span class="badge bg-primary me-2">22 Quest√µes</span>
                        <span class="badge bg-success me-2">Terminal Interativo</span>
                        <span class="badge bg-warning">Corre√ß√£o Autom√°tica</span>
                    </div>
                </div>
                <div class="col-md-4">
                    <div>
                        <h5 class="mb-3">Seu Progresso</h5>
                        <div class="progress" style="height: 30px; font-size: 0.9rem;">
                            <div id="progress-bar" class="progress-bar progress-bar-striped progress-bar-animated" 
                                 role="progressbar" style="width: 0%;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">
                                <span id="progress-percent">0%</span>
                            </div>
                        </div>
                        <small class="text-muted d-block mt-2">Quest√µes Conclu√≠das</small>
                        <button id="btnResetProgresso" class="btn btn-sm btn-outline-light mt-3">
                            <i class="fas fa-redo"></i> Resetar Progresso
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Conte√∫do Principal -->
    <div class="container">
        <!-- Abas -->
        <ul class="nav nav-tabs" id="mainTabs" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="questoes-tab" data-bs-toggle="tab" data-bs-target="#questoes" type="button">
                    <i class="fas fa-tasks"></i> Quest√µes
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="terminal-tab" data-bs-toggle="tab" data-bs-target="#terminal" type="button">
                    <i class="fas fa-terminal"></i> Terminal
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="dashboard-tab" data-bs-toggle="tab" data-bs-target="#dashboard" type="button">
                    <i class="fas fa-chart-bar"></i> Dashboard
                </button>
            </li>
        </ul>

        <!-- Conte√∫do das Abas -->
        <div class="tab-content" id="mainTabsContent">
            
            <!-- Aba: Quest√µes -->
            <div class="tab-pane fade show active" id="questoes" role="tabpanel">
                <!-- Filtros -->
                <div class="row mb-4">
                    <div class="col-md-3">
                        <select id="filtroNode" class="form-select">
                            <option value="all">Todos os Nodes</option>
                            <option value="1">Node 1 (1-15)</option>
                            <option value="2">Node 2 (16-22)</option>
                        </select>
                    </div>
                    <div class="col-md-3">
                        <select id="filtroDificuldade" class="form-select">
                            <option value="all">Todas Dificuldades</option>
                            <option value="F√°cil">F√°cil</option>
                            <option value="M√©dio">M√©dio</option>
                            <option value="Dif√≠cil">Dif√≠cil</option>
                        </select>
                    </div>
                    <div class="col-md-3">
                        <select id="filtroTopico" class="form-select">
                            <option value="all">Todos T√≥picos</option>
                            <option value="Rede">Rede</option>
                            <option value="Pacotes">Pacotes</option>
                            <option value="Permiss√µes">Permiss√µes</option>
                            <option value="Usu√°rios">Usu√°rios</option>
                            <option value="Storage">Storage</option>
                            <option value="Servi√ßos">Servi√ßos</option>
                            <option value="Agendamento">Agendamento</option>
                            <option value="Arquivos">Arquivos</option>
                            <option value="Scripting">Scripting</option>
                            <option value="Seguran√ßa">Seguran√ßa</option>
                            <option value="Cont√™ineres">Cont√™ineres</option>
                        </select>
                    </div>
                    <div class="col-md-3">
                        <button id="btnResetFiltros" class="btn btn-outline-secondary w-100">
                            <i class="fas fa-redo"></i> Limpar Filtros
                        </button>
                    </div>
                </div>

                <!-- Container das Quest√µes -->
                <div id="questoes-container" class="row">
                    <!-- As quest√µes ser√£o carregadas aqui via JavaScript -->
                </div>
            </div>

            <!-- Aba: Terminal -->
            <div class="tab-pane fade" id="terminal" role="tabpanel">
                <div class="row">
                    <div class="col-md-9">
                        <div class="card">
                            <div class="card-header bg-dark text-white">
                                <i class="fas fa-terminal"></i> Terminal Linux Interativo
                                <span class="float-end badge bg-success">Simulador RHCSA</span>
                            </div>
                            <div class="card-body p-0">
                                <div id="terminal-output" class="terminal-container">
                                    <div class="terminal-output">
                                        <span class="terminal-prompt">[root@rhcsa-lab ~]# </span>
                                        <span class="terminal-success">Bem-vindo ao Terminal RHCSA Study Lab!</span>
                                    </div>
                                    <div class="terminal-output">
                                        <span class="terminal-prompt">[root@rhcsa-lab ~]# </span>
                                        <span class="terminal-success">Digite comandos Linux para praticar.</span>
                                    </div>
                                    <div class="terminal-output">
                                        <span class="terminal-prompt">[root@rhcsa-lab ~]# </span>
                                        <span class="terminal-success">Use 'help' para ver todos os comandos dispon√≠veis.</span>
                                    </div>
                                </div>
                                <div class="input-group">
                                    <span class="input-group-text bg-dark text-white terminal-prompt">[root@rhcsa-lab ~]#</span>
                                    <input type="text" id="terminal-input" class="form-control" 
                                           placeholder="Digite um comando Linux..." autocomplete="off">
                                    <button id="btnExecutar" class="btn btn-success">
                                        <i class="fas fa-play"></i> Executar
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-md-3">
                        <div class="card">
                            <div class="card-header">
                                <i class="fas fa-bolt"></i> Comandos R√°pidos
                            </div>
                            <div class="card-body p-2">
                                <div class="list-group list-group-flush">
                                    <button class="list-group-item list-group-item-action" onclick="inserirComando('whoami')">
                                        whoami
                                    </button>
                                    <button class="list-group-item list-group-item-action" onclick="inserirComando('hostnamectl')">
                                        hostnamectl
                                    </button>
                                    <button class="list-group-item list-group-item-action" onclick="inserirComando('ip addr show')">
                                        ip addr show
                                    </button>
                                    <button class="list-group-item list-group-item-action" onclick="inserirComando('lsblk')">
                                        lsblk
                                    </button>
                                    <button class="list-group-item list-group-item-action" onclick="inserirComando('systemctl status httpd')">
                                        systemctl status httpd
                                    </button>
                                    <button class="list-group-item list-group-item-action" onclick="inserirComando('getenforce')">
                                        getenforce
                                    </button>
                                </div>
                                
                                <hr>
                                <h6>Ferramentas</h6>
                                <button class="btn btn-sm btn-outline-primary w-100 mb-2" onclick="limparTerminal()">
                                    <i class="fas fa-trash"></i> Limpar Terminal
                                </button>
                                <button class="btn btn-sm btn-outline-info w-100" onclick="mostrarAjuda()">
                                    <i class="fas fa-question-circle"></i> Ajuda
                                </button>
                            </div>
                        </div>
                        
                        <div class="card mt-3">
                            <div class="card-header">
                                <i class="fas fa-cogs"></i> Verificador de Quest√£o
                            </div>
                            <div class="card-body">
                                <select id="questao-verificar" class="form-select mb-2">
                                    <option value="">Selecione uma quest√£o...</option>
                                </select>
                                <button id="btnVerificar" class="btn btn-primary w-100">
                                    <i class="fas fa-check-circle"></i> Verificar Solu√ß√£o
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Aba: Dashboard -->
            <div class="tab-pane fade" id="dashboard" role="tabpanel">
                <div class="row">
                    <!-- Estat√≠sticas -->
                    <div class="col-md-3">
                        <div class="card text-center bg-primary text-white">
                            <div class="card-body">
                                <h1 class="display-4" id="total-questoes">22</h1>
                                <p>Total de Quest√µes</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="card text-center bg-success text-white">
                            <div class="card-body">
                                <h1 class="display-4" id="questoes-concluidas">0</h1>
                                <p>Conclu√≠das</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="card text-center bg-warning text-white">
                            <div class="card-body">
                                <h1 class="display-4" id="questoes-pendentes">22</h1>
                                <p>Pendentes</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="card text-center bg-info text-white">
                            <div class="card-body">
                                <h1 class="display-4" id="questoes-tentadas">0</h1>
                                <p>Tentadas</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Progresso Detalhado -->
                <div class="row mt-4">
                    <div class="col-12">
                        <div class="card">
                            <div class="card-header">
                                <i class="fas fa-list-check"></i> Progresso Detalhado
                            </div>
                            <div class="card-body">
                                <div class="table-responsive">
                                    <table class="table table-hover">
                                        <thead>
                                            <tr>
                                                <th>ID</th>
                                                <th>Quest√£o</th>
                                                <th>Node</th>
                                                <th>T√≥pico</th>
                                                <th>Status</th>
                                                <th>Tentativas</th>
                                                <th>A√ß√£o</th>
                                            </tr>
                                        </thead>
                                        <tbody id="tabela-progresso">
                                            <!-- Preenchido por JavaScript -->
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-dark text-white py-4 mt-5">
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <h5><i class="fab fa-redhat"></i> RHCSA Study Lab</h5>
                    <p>Laborat√≥rio virtual para estudo do exame RHCSA v3.0</p>
                </div>
                <div class="col-md-6 text-md-end">
                    <p>
                        Desenvolvido com ‚ù§Ô∏è para a comunidade Linux
                        <br>
                        <small><i class="fas fa-code"></i> Vers√£o 3.0 - Mar√ßo 2024</small>
                    </p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <!-- JavaScript Principal -->
    <script>
        // ==================== DARK MODE ====================
        const darkModeToggle = document.getElementById('darkModeToggle');
        const darkModeLabel = document.getElementById('darkModeLabel');
        
        // Carregar prefer√™ncia de dark mode
        const isDarkMode = localStorage.getItem('rhcsa-dark-mode') === 'true';
        if (isDarkMode) {
            document.body.classList.add('dark-mode');
            darkModeToggle.innerHTML = '<i class="fas fa-sun"></i> <span id="darkModeLabel">Modo Claro</span>';
        }
        
        // Toggle dark mode
        darkModeToggle.addEventListener('click', function() {
            document.body.classList.toggle('dark-mode');
            const isDark = document.body.classList.contains('dark-mode');
            
            localStorage.setItem('rhcsa-dark-mode', isDark);
            
            if (isDark) {
                darkModeToggle.innerHTML = '<i class="fas fa-sun"></i> <span id="darkModeLabel">Modo Claro</span>';
            } else {
                darkModeToggle.innerHTML = '<i class="fas fa-moon"></i> <span id="darkModeLabel">Modo Escuro</span>';
            }
        });

        // ==================== DADOS DAS QUEST√ïES ====================
        const questoes = [
            // NODE 1 - Quest√µes 1 a 15
            {
                id: 1,
                node: 1,
                topico: "Rede",
                dificuldade: "F√°cil",
                titulo: "Configurar IP Est√°tico",
                descricao: `Configure um IP est√°tico com os seguintes detalhes:
‚Ä¢ IP: 192.168.76.20/24
‚Ä¢ Gateway: 192.168.76.2
‚Ä¢ DNS: 192.168.76.2
‚Ä¢ Domain Name: Machine1.example.com
‚Ä¢ Certifique-se de que a rede inicie automaticamente na inicializa√ß√£o
Resolu√ß√£o: nmtui (ou nmcli)`,
                comando: `nmtui
# Ou usando nmcli:
nmcli connection modify eth0 ipv4.addresses 192.168.76.20/24
nmcli connection modify eth0 ipv4.gateway 192.168.76.2
nmcli connection modify eth0 ipv4.dns 192.168.76.2
nmcli connection modify eth0 ipv4.method manual
nmcli connection modify eth0 connection.autoconnect yes
systemctl restart NetworkManager
hostnamectl set-hostname Machine1.example.com`,
                solucao: `1. Use nmtui ou os comandos nmcli acima
2. Configure IP, Gateway e DNS como especificado
3. Configure hostname: hostnamectl set-hostname Machine1.example.com
4. Reinicie o servi√ßo de rede
5. Teste: ping 192.168.76.2`,
                verificacoes: ["nmcli connection modify", "192.168.76.20", "192.168.76.2", "hostnamectl", "Machine1.example.com", "NetworkManager"]
            },
            {
                id: 2,
                node: 1,
                topico: "Pacotes",
                dificuldade: "F√°cil",
                titulo: "Configurar Yum Repository",
                descricao: `Configure o Yum Repo usando os links fornecidos:
BaseOS: http://content.example.com/rhel9.0/x86_64/rhcsa-practice//rht
AppStream: http://content.example.com/rhel9.0/x86_64/rhcsa-practice//rht`,
                comando: `vim /etc/yum.repos.d/exam.repo

# Adicione:
[BaseOS]
name=BaseOS
baseurl=http://content.example.com/rhel9.0/x86_64/rhcsa-practice//rht
gpgcheck=0
enabled=1

[AppStream]
name=AppStream
baseurl=http://content.example.com/rhel9.0/x86_64/rhcsa-practice//rht
gpgcheck=0
enabled=1

# Limpe e liste:
yum clean all
yum repolist all`,
                solucao: `1. Crie /etc/yum.repos.d/exam.repo
2. Adicione as configura√ß√µes [BaseOS] e [AppStream]
3. Configure baseurl, gpgcheck=0 e enabled=1
4. Execute: yum clean all
5. Execute: yum repolist all para verificar`,
                verificacoes: ["/etc/yum.repos.d/", "[BaseOS]", "[AppStream]", "baseurl", "gpgcheck=0", "yum clean all", "yum repolist"]
            },
            {
                id: 3,
                node: 1,
                topico: "Permiss√µes",
                dificuldade: "M√©dio",
                titulo: "Diret√≥rio /share/dev com ACL",
                descricao: `Crie o diret√≥rio /share/dev.
‚Ä¢ D√™ propriedade(acesso) para o devuser:devteam
‚Ä¢ D√™ permiss√£o de leitura, escrita e execu√ß√£o aos membros do devteam
‚Ä¢ Use o ACL para que o usu√°rio john tenha somente acesso de leitura`,
                comando: `mkdir -p /share/dev
useradd devuser
groupadd devteam
usermod -aG devteam devuser
chown -R devuser:devteam /share/dev
chmod g+rwx /share/dev
setfacl -m u:john:r-- /share/dev`,
                solucao: `1. mkdir -p /share/dev
2. Crie usu√°rio e grupo se necess√°rio
3. chown -R devuser:devteam /share/dev
4. chmod g+rwx /share/dev
5. setfacl -m u:john:r-- /share/dev
6. Verifique: getfacl /share/dev`,
                verificacoes: ["mkdir /share/dev", "chown devuser:devteam", "chmod g+rwx", "setfacl -m u:john:r--", "getfacl"]
            },
            {
                id: 4,
                node: 1,
                topico: "Usu√°rios",
                dificuldade: "F√°cil",
                titulo: "Criar usu√°rio Redhat e grupo Time-TI",
                descricao: `Crie um user chamado Redhat
‚Ä¢ Redefina a senha para Redhat@123
‚Ä¢ Crie um grupo chamado Time-TI e adicione o usu√°rio Redhat ao grupo`,
                comando: `useradd Redhat
passwd Redhat  # Digite: Redhat@123
groupadd Time-TI
usermod -aG Time-TI Redhat`,
                solucao: `1. useradd Redhat
2. passwd Redhat (senha: Redhat@123)
3. groupadd Time-TI
4. usermod -aG Time-TI Redhat
5. Verifique: id Redhat`,
                verificacoes: ["useradd Redhat", "passwd Redhat", "groupadd Time-TI", "usermod -aG Time-TI Redhat", "id Redhat"]
            },
            {
                id: 5,
                node: 1,
                topico: "Rede",
                dificuldade: "M√©dio",
                titulo: "SSH sem senha para Natasha",
                descricao: `Configure o SSH no node 2 para que a usu√°ria Natasha fa√ßa login sem precisar de senha.
‚Ä¢ Use ssh-keygen e ssh-copy-id
‚Ä¢ Teste a conex√£o para garantir a funcionalidade`,
                comando: `# No Node 1:
ssh-keygen -t rsa -N '' -f ~/.ssh/id_rsa
ssh-copy-id natasha@192.168.76.30  # Substitua pelo IP do Node 2

# Teste:
ssh natasha@192.168.76.30 'whoami'`,
                solucao: `1. Gere chave SSH: ssh-keygen -t rsa
2. Copie a chave: ssh-copy-id natasha@IP_DO_NODE2
3. Teste login sem senha
4. Deve conectar automaticamente`,
                verificacoes: ["ssh-keygen -t rsa", "ssh-copy-id", "natasha@", ".ssh/id_rsa", "ssh "]
            },
            {
                id: 6,
                node: 1,
                topico: "Servi√ßos",
                dificuldade: "M√©dio",
                titulo: "Servidor Web na porta 82",
                descricao: `Um servidor web em execu√ß√£o na porta 82 n√£o padr√£o est√° com problemas para fornecer conte√∫do.
‚Ä¢ O servidor web pode servir arquivos HTML de /var/www/html
‚Ä¢ O servi√ßo deve iniciar automaticamente na hora do boot.`,
                comando: `yum install httpd -y
firewall-cmd --permanent --add-port=82/tcp
firewall-cmd --permanent --add-service=http
firewall-cmd --reload
semanage port -a -t http_port_t -p tcp 82
vi /etc/httpd/conf/httpd.conf  # Altere Listen 80 para Listen 82
systemctl restart httpd
systemctl enable httpd`,
                solucao: `1. Instale httpd
2. Configure firewall para porta 82
3. Configure SELinux para porta 82
4. Altere /etc/httpd/conf/httpd.conf (Listen 82)
5. Reinicie e habilite httpd
6. Teste: curl http://localhost:82`,
                verificacoes: ["yum install httpd", "firewall-cmd --add-port=82/tcp", "semanage port -a", "Listen 82", "systemctl restart httpd", "systemctl enable httpd"]
            },
            {
                id: 7,
                node: 1,
                topico: "Storage",
                dificuldade: "Dif√≠cil",
                titulo: "Volume L√≥gico LVM de 500MB",
                descricao: `Crie um volume l√≥gico lvdata de tamanho 500MB e um VG vgdata utilizando /dev/sdb
‚Ä¢ Formate com xfs, monte permanentemente em /mnt/data`,
                comando: `fdisk /dev/sdb  # Crie parti√ß√£o (n, p, 1, Enter, +500M, t, 31, w)
partprobe /dev/sdb
pvcreate /dev/sdb1
vgcreate vgdata /dev/sdb1
lvcreate -L 500M -n lvdata vgdata
mkfs.xfs /dev/vgdata/lvdata
mkdir /mnt/data
echo '/dev/vgdata/lvdata /mnt/data xfs defaults 0 0' >> /etc/fstab
mount -a
systemctl daemon-reload`,
                solucao: `1. fdisk /dev/sdb (criar parti√ß√£o)
2. pvcreate /dev/sdb1
3. vgcreate vgdata /dev/sdb1
4. lvcreate -L 500M -n lvdata vgdata
5. mkfs.xfs /dev/vgdata/lvdata
6. mkdir /mnt/data
7. Adicione ao /etc/fstab
8. mount -a
9. Verifique: lsblk, df -h`,
                verificacoes: ["fdisk /dev/sdb", "pvcreate", "vgcreate vgdata", "lvcreate -L 500M", "mkfs.xfs", "/etc/fstab", "mount -a"]
            },
            {
                id: 8,
                node: 1,
                topico: "Agendamento",
                dificuldade: "F√°cil",
                titulo: "Cronjob para devuser",
                descricao: `Crie um cronjob para o usu√°rio devuser que execute o comando uptime a cada 5 minutos e salve a sa√≠da em /home/devuser/uptime.log`,
                comando: `yum install cronie -y
crontab -e -u devuser
# Adicione:
*/5 * * * * uptime >> /home/devuser/uptime.log

# Verifique:
crontab -l -u devuser`,
                solucao: `1. Instale cronie se necess√°rio
2. crontab -e -u devuser
3. Adicione: */5 * * * * uptime >> /home/devuser/uptime.log
4. Salve e saia
5. Verifique: crontab -l -u devuser`,
                verificacoes: ["crontab -e -u devuser", "*/5 * * * *", "uptime", "/home/devuser/uptime.log", "crontab -l"]
            },
            {
                id: 9,
                node: 1,
                topico: "Arquivos",
                dificuldade: "F√°cil",
                titulo: "Backup do diret√≥rio /etc",
                descricao: `Compacte o diret√≥rio /etc usando tar com gzip e salve-o como /root/etc_backup.tar.gz`,
                comando: `tar --gzip -cvf /root/etc_backup.tar.gz /etc

# Verifique:
ls -lh /root/etc_backup.tar.gz`,
                solucao: `1. Execute: tar --gzip -cvf /root/etc_backup.tar.gz /etc
2. Verifique o arquivo criado
3. Tamanho aproximado: 20-30MB`,
                verificacoes: ["tar --gzip -cvf", "/root/etc_backup.tar.gz", "/etc", "ls -lh"]
            },
            {
                id: 10,
                node: 1,
                topico: "Usu√°rios",
                dificuldade: "F√°cil",
                titulo: "Usu√°rio Alex no grupo Time-TI",
                descricao: `Crie o usu√°rio alex e torne o usu√°rio alex um grupo secund√°rio do grupo Time-TI`,
                comando: `useradd alex
usermod -aG Time-TI alex

# Verifique:
id alex`,
                solucao: `1. useradd alex
2. usermod -aG Time-TI alex
3. Verifique: id alex
4. Deve mostrar: groups=Time-TI`,
                verificacoes: ["useradd alex", "usermod -aG Time-TI alex", "id alex", "Time-TI"]
            },
            {
                id: 11,
                node: 1,
                topico: "Usu√°rios",
                dificuldade: "F√°cil",
                titulo: "Usu√°rio John com UID 2245",
                descricao: `Crie o usu√°rio John com uid 2245 e redefina a senha para redhat@123`,
                comando: `useradd -u 2245 john
passwd john  # Digite: redhat@123

# Verifique:
getent passwd john | grep 2245`,
                solucao: `1. useradd -u 2245 john
2. passwd john (senha: redhat@123)
3. Verifique: getent passwd john
4. Deve mostrar UID 2245`,
                verificacoes: ["useradd -u 2245", "john", "passwd john", "getent passwd john"]
            },
            {
                id: 12,
                node: 1,
                topico: "Arquivos",
                dificuldade: "M√©dio",
                titulo: "Localizar arquivos do usu√°rio tom",
                descricao: `Localize todos os arquivos pertencentes ao usu√°rio tom e copie-os para /root/tomfiles`,
                comando: `mkdir -p /root/tomfiles
find / -user tom -type f -exec cp -pvf {} /root/tomfiles/ \\; 2>/dev/null

# Verifique:
ls -l /root/tomfiles/ | head -5`,
                solucao: `1. mkdir /root/tomfiles
2. find / -user tom -type f -exec cp -pvf {} /root/tomfiles/ \\;
3. Ignore erros com 2>/dev/null
4. Verifique os arquivos copiados`,
                verificacoes: ["find / -user tom", "-type f", "-exec cp", "/root/tomfiles", "mkdir /root/tomfiles"]
            },
            {
                id: 13,
                node: 1,
                topico: "Arquivos",
                dificuldade: "M√©dio",
                titulo: "Localizar arquivos do usu√°rio jerry",
                descricao: `Localize todos os arquivos e diret√≥rios pertencentes ao usu√°rio jerry e copie-os para /root/jerryfiles`,
                comando: `mkdir -p /root/jerryfiles
find / -user jerry -exec cp -rpvf {} /root/jerryfiles/ \\; 2>/dev/null

# Verifique:
ls -la /root/jerryfiles/ | head -5`,
                solucao: `1. mkdir /root/jerryfiles
2. find / -user jerry -exec cp -rpvf {} /root/jerryfiles/ \\;
3. Use -r para diret√≥rios
4. Ignore erros com 2>/dev/null`,
                verificacoes: ["find / -user jerry", "-exec cp -rpvf", "/root/jerryfiles", "mkdir /root/jerryfiles"]
            },
            {
                id: 14,
                node: 1,
                topico: "Permiss√µes",
                dificuldade: "M√©dio",
                titulo: "Diret√≥rio /shared/projects com sticky bit",
                descricao: `Crie o diret√≥rio /shared/projects no node1.
‚Ä¢ A propriedade do arquivo deve passar para o Alex.
‚Ä¢ Garanta que nenhum usu√°rio possa excluir arquivos do propriet√°rio dentro de /shared/projects exceto o propriet√°rio do arquivo.`,
                comando: `mkdir -p /shared/projects
chown -R alex /shared/projects
chmod a+rwx,+t /shared/projects

# Verifique:
ls -ld /shared/projects`,
                solucao: `1. mkdir -p /shared/projects
2. chown -R alex /shared/projects
3. chmod a+rwx,+t /shared/projects (sticky bit)
4. Verifique: ls -ld /shared/projects
5. Deve mostrar: drwxrwxrwt`,
                verificacoes: ["mkdir /shared/projects", "chown alex", "chmod a+rwx,+t", "ls -ld", "drwxrwxrwt"]
            },
            {
                id: 15,
                node: 1,
                topico: "Scripting",
                dificuldade: "Dif√≠cil",
                titulo: "Script para localizar arquivos por tamanho",
                descricao: `Crie um arquivo de script com o nome "script.sh" dentro do diret√≥rio "/bin" e localize todos os arquivos do diret√≥rio "usr/local" que tenham mais de 3k e menos de 5k e copie-os para "/root/d1". Defina tamb√©m a permiss√£o sgid para o diret√≥rio.`,
                comando: `vim /bin/script.sh

# Conte√∫do do script:
#!/bin/bash
mkdir -p /root/d1
find /usr/local -size +3k -size -5k -exec cp -rpvf {} /root/d1 \\;
chmod g+s /root/d1

# Permiss√µes:
chmod a+x /bin/script.sh

# Execute:
/bin/script.sh`,
                solucao: `1. Crie /bin/script.sh
2. Adicione o script com find e cp
3. chmod a+x /bin/script.sh
4. Execute o script
5. chmod g+s /root/d1 (SGID)
6. Verifique: ls -ld /root/d1`,
                verificacoes: ["/bin/script.sh", "#!/bin/bash", "find /usr/local -size +3k -size -5k", "chmod g+s", "/root/d1", "chmod a+x"]
            },
            // NODE 2 - Quest√µes 16 a 22
            {
                id: 16,
                node: 2,
                topico: "Seguran√ßa",
                dificuldade: "Dif√≠cil",
                titulo: "Recuperar senha root",
                descricao: `Recuperar a senha root, a senha deve ser redhat@312
(√Äs vezes, n√£o √© especificada nenhuma senha; nesse caso, voc√™ pode definir qualquer senha.)`,
                comando: `# Durante o boot, na tela do GRUB:
1. Pressione 'e' para editar
2. Localize linha "linux" e adicione: rd.break
3. Ctrl+X para iniciar

# No prompt de recupera√ß√£o:
mount -o remount,rw /sysroot
chroot /sysroot
passwd root  # Digite: redhat@312
touch /.autorelabel
exit
exit
reboot`,
                solucao: `1. Boot com rd.break no GRUB
2. mount -o remount,rw /sysroot
3. chroot /sysroot
4. passwd root (senha: redhat@312)
5. touch /.autorelabel
6. exit, exit, reboot
7. Login com nova senha`,
                verificacoes: ["rd.break", "mount -o remount,rw /sysroot", "chroot /sysroot", "passwd root", "touch /.autorelabel"]
            },
            {
                id: 17,
                node: 2,
                topico: "Cont√™ineres",
                dificuldade: "M√©dio",
                titulo: "Criar imagem de cont√™iner",
                descricao: `Crie uma imagem de cont√™iner usando o link fornecido
http://utility.example.com/container/Containerfile
‚Ä¢ D√™ o nome a ele de "image32"
‚Ä¢ Fa√ßa login em 'registry.lab.example.com' com "admin" e "Admin@123".
‚Ä¢ O cont√™iner deve ser criado com o usu√°rio "Sophia"`,
                comando: `yum install podman container-tools -y
systemctl enable podman
systemctl start podman
ssh sophia@IP_DO_SERVIDOR
podman login registry.lab.example.com  # Usu√°rio: admin, Senha: Admin@123
wget http://utility.example.com/container/Containerfile
podman build -t image32 -f Containerfile

# Verifique:
podman images`,
                solucao: `1. Instale podman
2. Habilite e inicie podman
3. SSH para usu√°rio sophia
4. Login no registry
5. Baixe Containerfile
6. Build da imagem: podman build -t image32
7. Verifique: podman images`,
                verificacoes: ["yum install podman", "podman login", "wget", "podman build -t image32", "Containerfile", "podman images"]
            },
            {
                id: 18,
                node: 2,
                topico: "Cont√™ineres",
                dificuldade: "Dif√≠cil",
                titulo: "Cont√™iner sem raiz (rootless)",
                descricao: `Crie um cont√™iner sem raiz usando as seguintes condi√ß√µes:
‚Ä¢ Cont√™iner criado com usu√°rio regular
‚Ä¢ Servi√ßo habilitado para iniciar automaticamente
‚Ä¢ Nome: container24 usando imagem anterior
‚Ä¢ Mapeie '/opt/files' para '/opt/incoming'
‚Ä¢ Mapeie '/opt/processed' para '/opt/outgoing'
‚Ä¢ Crie servi√ßo systemd`,
                comando: `# Como root:
mkdir -p /opt/files /opt/processed
chown -R sophia:sophia /opt/files /opt/processed

# Como usu√°rio sophia:
ssh sophia@IP_DO_SERVIDOR
podman run -d --name container24 -v /opt/files:/opt/incoming:Z -v /opt/processed:/opt/outgoing:Z image32
loginctl enable-linger
mkdir -p /home/sophia/.config/systemd/user
cd /home/sophia/.config/systemd/user
podman generate systemd --name container24 --files --new
systemctl --user daemon-reload
systemctl --user enable container-container24.service
systemctl --user start container-container24.service

# Verifique:
systemctl --user status container-container24.service`,
                solucao: `1. Crie diret√≥rios e ajuste permiss√µes
2. SSH como sophia
3. Execute cont√™iner com volumes mapeados
4. Habilite linger
5. Gere unit file do systemd
6. Habilite e inicie servi√ßo
7. Verifique status`,
                verificacoes: ["mkdir /opt/files", "chown sophia", "podman run -d --name container24", "-v /opt/files:/opt/incoming", "podman generate systemd", "systemctl --user enable", "loginctl enable-linger"]
            },
            {
                id: 19,
                node: 2,
                topico: "Storage",
                dificuldade: "M√©dio",
                titulo: "Criar parti√ß√£o SWAP de 400MiB",
                descricao: `Crie uma parti√ß√£o SWAP de 400MiB
‚Ä¢ N√£o modifique a parti√ß√£o swap atual
‚Ä¢ Deve permanecer ap√≥s a reinicializa√ß√£o.`,
                comando: `fdisk /dev/sdc
# Comandos no fdisk:
g  # Criar tabela GPT
n  # Nova parti√ß√£o
1  # N√∫mero da parti√ß√£o
Enter  # Primeiro setor
+400M  # Tamanho
t  # Tipo
19  # Linux swap
w  # Salvar

partprobe /dev/sdc
mkswap /dev/sdc1
echo '/dev/sdc1 swap swap defaults 0 0' >> /etc/fstab
swapon -a

# Verifique:
swapon --show
lsblk`,
                solucao: `1. fdisk /dev/sdc (criar parti√ß√£o swap)
2. partprobe para atualizar kernel
3. mkswap /dev/sdc1
4. Adicione ao /etc/fstab
5. swapon -a
6. Verifique: swapon --show, free -h`,
                verificacoes: ["fdisk /dev/sdc", "mkswap /dev/sdc1", "/etc/fstab", "swapon -a", "swapon --show", "lsblk"]
            },
            {
                id: 20,
                node: 2,
                topico: "Storage",
                dificuldade: "Dif√≠cil",
                titulo: "Volume L√≥gico com extens√µes espec√≠ficas",
                descricao: `Crie um volume l√≥gico chamado LV1 no Volume group chamado VG1 com extens√£o de 16M e extens√£o l√≥gica de 30.
‚Ä¢ Formate com ext4
‚Ä¢ Monte em /database`,
                comando: `# Calcular tamanho: 30 * 16M = 480M
fdisk /dev/sde
# Comandos:
g  # GPT
n  # Nova parti√ß√£o
1  # N√∫mero
Enter  # In√≠cio
+600M  # Tamanho (um pouco maior)
t  # Tipo
31  # Linux LVM
w  # Salvar

partprobe /dev/sde
pvcreate /dev/sde1
vgcreate VG1 -s 16M /dev/sde1
lvcreate -l 30 -n LV1 VG1
mkfs.ext4 /dev/VG1/LV1
mkdir /database
echo '/dev/VG1/LV1 /database ext4 defaults 0 0' >> /etc/fstab
mount -a

# Verifique:
lvs
df -h /database`,
                solucao: `1. fdisk /dev/sde (criar parti√ß√£o LVM)
2. pvcreate /dev/sde1
3. vgcreate VG1 -s 16M /dev/sde1
4. lvcreate -l 30 -n LV1 VG1 (480MB)
5. mkfs.ext4 /dev/VG1/LV1
6. Adicione ao /etc/fstab
7. mount -a
8. Verifique: lvs, df -h`,
                verificacoes: ["fdisk /dev/sde", "pvcreate", "vgcreate VG1 -s 16M", "lvcreate -l 30", "mkfs.ext4", "/etc/fstab", "mount -a"]
            },
            {
                id: 21,
                node: 2,
                topico: "Performance",
                dificuldade: "F√°cil",
                titulo: "Configurar tuned",
                descricao: `Configure o ajuste do sistema usando tuned`,
                comando: `yum install tuned -y
systemctl enable tuned
systemctl start tuned
tuned-adm recommend
tuned-adm profile virtual-guest

# Verifique:
tuned-adm active`,
                solucao: `1. Instale tuned
2. Habilite e inicie servi√ßo
3. Veja perfil recomendado
4. Configure perfil virtual-guest
5. Verifique: tuned-adm active`,
                verificacoes: ["yum install tuned", "systemctl enable tuned", "tuned-adm recommend", "tuned-adm profile virtual-guest", "tuned-adm active"]
            },
            {
                id: 22,
                node: 2,
                topico: "Permiss√µes",
                dificuldade: "M√©dio",
                titulo: "Diret√≥rio colaborativo com SGID",
                descricao: `Configurar diret√≥rio colaborativo em /share para grupo 'devops' com permiss√µes SGID.`,
                comando: `groupadd devops
mkdir -p /share
chown root:devops /share
chmod 2775 /share

# Verifique:
ls -ld /share  # Deve mostrar: drwxrwsr-x`,
                solucao: `1. groupadd devops
2. mkdir /share
3. chown root:devops /share
4. chmod 2775 /share (SGID)
5. Verifique: ls -ld /share
6. Deve mostrar: drwxrwsr-x`,
                verificacoes: ["groupadd devops", "mkdir /share", "chown root:devops", "chmod 2775", "ls -ld", "drwxrwsr-x"]
            }
        ];

        // ==================== SISTEMA DE PROGRESSO ====================
        let progresso = JSON.parse(localStorage.getItem('rhcsa-progresso')) || {};
        let tentativas = JSON.parse(localStorage.getItem('rhcsa-tentativas')) || {};
        let questaoAtual = null;
        let comandosExecutados = [];

        // ==================== FUN√á√ïES DE QUEST√ïES ====================
        function carregarQuestoes() {
            const container = document.getElementById('questoes-container');
            if (!container) return;
            
            // Obter filtros
            const filtroNode = document.getElementById('filtroNode').value;
            const filtroDificuldade = document.getElementById('filtroDificuldade').value;
            const filtroTopico = document.getElementById('filtroTopico').value;
            
            // Filtrar quest√µes
            const filtradas = questoes.filter(q => {
                return (filtroNode === 'all' || q.node == filtroNode) &&
                       (filtroDificuldade === 'all' || q.dificuldade === filtroDificuldade) &&
                       (filtroTopico === 'all' || q.topico === filtroTopico);
            });
            
            // Gerar HTML
            let html = '';
            filtradas.forEach(questao => {
                const concluida = progresso[questao.id] || false;
                const classeConcluida = concluida ? 'questao-concluida' : '';
                const dificuldadeClass = `dificuldade-${questao.dificuldade.toLowerCase().replace('√°', 'a').replace('√≠', 'i')}`;
                
                html += `
                <div class="col-md-6 col-lg-4 fade-in">
                    <div class="card questao-card ${classeConcluida}" data-id="${questao.id}">
                        <div class="card-body">
                            <div class="questao-header">
                                <div>
                                    <h5 class="mb-1">${concluida ? '<i class="fas fa-check-circle text-success"></i>' : '<i class="fas fa-clock text-secondary"></i>'} Quest√£o ${questao.id}</h5>
                                    <small class="questao-id">Node ${questao.node} ‚Ä¢ ${questao.topico}</small>
                                </div>
                                <span class="dificuldade ${dificuldadeClass}">${questao.dificuldade}</span>
                            </div>
                            
                            <h6 class="text-primary">${questao.titulo}</h6>
                            <p class="card-text text-muted small">${questao.descricao.substring(0, 80)}...</p>
                            
                            <div class="mt-3">
                                <button class="btn btn-sm btn-outline-primary ver-detalhes" data-id="${questao.id}">
                                    <i class="fas fa-eye"></i> Ver Detalhes
                                </button>
                                <button class="btn btn-sm btn-terminal ms-2" onclick="abrirTerminalParaQuestao(${questao.id})">
                                    <i class="fas fa-terminal"></i> Terminal
                                </button>
                            </div>
                            
                            ${concluida ? 
                                '<div class="progress mt-3"><div class="progress-bar bg-success" style="width: 100%">Conclu√≠do ‚úì</div></div>' : 
                                '<div class="progress mt-3" style="display: none;"><div class="progress-bar" style="width: 0%"></div></div>'
                            }
                        </div>
                    </div>
                </div>
                `;
            });
            
            container.innerHTML = html || '<div class="col-12 text-center"><p class="text-muted">Nenhuma quest√£o encontrada com os filtros selecionados.</p></div>';
            
            // Adicionar event listeners aos bot√µes
            document.querySelectorAll('.ver-detalhes').forEach(btn => {
                btn.addEventListener('click', function() {
                    const id = this.getAttribute('data-id');
                    mostrarDetalhesQuestao(id);
                });
            });
        }

        function mostrarDetalhesQuestao(id) {
            questaoAtual = questoes.find(q => q.id == id);
            
            if (!questaoAtual) {
                alert('Quest√£o n√£o encontrada!');
                return;
            }
            
            const concluida = progresso[questaoAtual.id] || false;
            
            // Criar modal
            const modalHTML = `
                <div class="modal fade" id="modalQuestao" tabindex="-1">
                    <div class="modal-dialog modal-xl-custom">
                        <div class="modal-content">
                            <div class="modal-header bg-dark text-white">
                                <h5 class="modal-title">Quest√£o ${questaoAtual.id}: ${questaoAtual.titulo}</h5>
                                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                            </div>
                            <div class="modal-body">
                                <div class="row">
                                    <div class="col-md-8">
                                        <div class="mb-3">
                                            <h6>Descri√ß√£o:</h6>
                                            <div class="card">
                                                <div class="card-body">
                                                    <pre style="white-space: pre-wrap; margin: 0;">${questaoAtual.descricao}</pre>
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <div class="mb-3">
                                            <h6><i class="fas fa-terminal"></i> Comando Sugerido:</h6>
                                            <div class="comando-exemplo">
<pre>${questaoAtual.comando}</pre>
                                            </div>
                                        </div>
                                        
                                        <div class="mb-3">
                                            <h6><i class="fas fa-check-circle"></i> Solu√ß√£o Esperada:</h6>
                                            <div class="solucao-correta">
<pre>${questaoAtual.solucao}</pre>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="card mb-3">
                                            <div class="card-header">
                                                <i class="fas fa-info-circle"></i> Informa√ß√µes
                                            </div>
                                            <div class="card-body">
                                                <p><strong>ID:</strong> ${questaoAtual.id}</p>
                                                <p><strong>Node:</strong> ${questaoAtual.node}</p>
                                                <p><strong>T√≥pico:</strong> ${questaoAtual.topico}</p>
                                                <p><strong>Dificuldade:</strong> ${questaoAtual.dificuldade}</p>
                                                <p><strong>Status:</strong> ${concluida ? '<span class="badge bg-success">Conclu√≠da</span>' : '<span class="badge bg-warning">Pendente</span>'}</p>
                                                <p><strong>Tentativas:</strong> ${tentativas[questaoAtual.id] || 0}</p>
                                            </div>
                                        </div>
                                        
                                        <div class="card">
                                            <div class="card-header">
                                                <i class="fas fa-flask"></i> A√ß√µes
                                            </div>
                                            <div class="card-body">
                                                <button class="btn btn-success w-100 mb-2" onclick="testarQuestaoNoTerminal()">
                                                    <i class="fas fa-terminal"></i> Testar no Terminal
                                                </button>
                                                <button class="btn btn-primary w-100 mb-2" onclick="marcarComoConcluida(${questaoAtual.id})">
                                                    <i class="fas fa-check"></i> ${concluida ? 'J√° Conclu√≠da' : 'Marcar Conclu√≠da'}
                                                </button>
                                                <button class="btn btn-info w-100" onclick="abrirTerminalParaQuestao(${questaoAtual.id})">
                                                    <i class="fas fa-terminal"></i> Ir para Terminal
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            // Remover modal existente
            const modalExistente = document.querySelector('#modalQuestao');
            if (modalExistente) {
                modalExistente.remove();
            }
            
            // Adicionar novo modal
            document.body.insertAdjacentHTML('beforeend', modalHTML);
            
            // Mostrar modal
            const modal = new bootstrap.Modal(document.getElementById('modalQuestao'));
            modal.show();
        }

        function abrirTerminalParaQuestao(id) {
            // Mudar para a aba do terminal
            const terminalTab = document.getElementById('terminal-tab');
            if (terminalTab) {
                const tab = new bootstrap.Tab(terminalTab);
                tab.show();
            }
            
            // Atualizar o dropdown de verifica√ß√£o
            const select = document.getElementById('questao-verificar');
            if (select) {
                select.value = id;
            }
            
            // Mostrar mensagem no terminal
            const questao = questoes.find(q => q.id == id);
            if (questao) {
                setTimeout(() => {
                    adicionarSaidaTerminal(`üîç Praticando Quest√£o ${id}: ${questao.titulo}`, 'info');
                    adicionarSaidaTerminal(`üìù Objetivo: ${questao.descricao.substring(0, 100)}...`, 'info');
                }, 500);
            }
        }

        function testarQuestaoNoTerminal() {
            if (!questaoAtual) return;
            
            // Fechar modal
            const modal = bootstrap.Modal.getInstance(document.getElementById('modalQuestao'));
            if (modal) {
                modal.hide();
            }
            
            // Ir para a aba do terminal
            abrirTerminalParaQuestao(questaoAtual.id);
            
            // Limpar terminal
            setTimeout(() => {
                limparTerminal();
                
                // Mostrar instru√ß√µes
                adicionarSaidaTerminal(`üß™ TESTANDO QUEST√ÉO ${questaoAtual.id}: ${questaoAtual.titulo}`, 'info');
                adicionarSaidaTerminal(`üìã Descri√ß√£o: ${questaoAtual.descricao.substring(0, 100)}...`, 'info');
                adicionarSaidaTerminal(`üí° Comando sugerido: ${questaoAtual.comando.substring(0, 100)}...`, 'info');
                adicionarSaidaTerminal(`üöÄ Execute os comandos acima para praticar.`, 'info');
                adicionarSaidaTerminal(`‚úÖ Depois use "Verificar Solu√ß√£o" para testar.`, 'info');
            }, 300);
        }

        function marcarComoConcluida(id) {
            // Salvar no localStorage
            progresso[id] = true;
            localStorage.setItem('rhcsa-progresso', JSON.stringify(progresso));
            
            // Fechar modal
            const modal = bootstrap.Modal.getInstance(document.getElementById('modalQuestao'));
            if (modal) {
                modal.hide();
            }
            
            // Mostrar mensagem
            adicionarSaidaTerminal(`‚úÖ Quest√£o ${id} marcada como conclu√≠da!`, 'success');
            
            // Recarregar quest√µes para atualizar progresso
            carregarQuestoes();
            atualizarProgresso();
            
            // Verificar se completou 100%
            verificarCompletude();
        }

        // ==================== TERMINAL INTERATIVO ====================
        const comandosTerminal = {
            // Comandos b√°sicos
            'whoami': 'root',
            
            'hostnamectl': `Static hostname: rhcsa-lab
       Icon name: computer-vm
         Chassis: vm
      Machine ID: 1234567890abcdef
         Boot ID: abcdef1234567890
  Virtualization: kvm
Operating System: Red Hat Enterprise Linux 9.0 (Plow)
          Kernel: Linux 5.14.0-162.6.1.el9_1.x86_64
    Architecture: x86-64`,
            
            'hostnamectl set-hostname Machine1.example.com': 'Hostname set to Machine1.example.com',
            
            'ip addr show': `1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet 127.0.0.1/8 scope host lo
       valid_lft forever preferred_lft forever
2: eth0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc fq_codel state UP group default qlen 1000
    link/ether 52:54:00:12:34:56 brd ff:ff:ff:ff:ff:ff
    inet 192.168.76.20/24 brd 192.168.76.255 scope global eth0
       valid_lft forever preferred_lft forever`,
            
            'nmcli connection modify eth0 ipv4.addresses 192.168.76.20/24': 'Connection eth0 modified successfully.',
            
            'nmcli connection modify eth0 ipv4.gateway 192.168.76.2': 'Connection eth0 modified successfully.',
            
            'nmcli connection modify eth0 ipv4.dns 192.168.76.2': 'Connection eth0 modified successfully.',
            
            'nmcli connection modify eth0 ipv4.method manual': 'Connection eth0 modified successfully.',
            
            'systemctl restart NetworkManager': 'NetworkManager restarted successfully.',
            
            'lsblk': `NAME   MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT
sda      8:0    0   20G  0 disk
‚îú‚îÄsda1   8:1    0    1G  0 part /boot
‚îî‚îÄsda2   8:2    0   19G  0 part
  ‚îú‚îÄrhel-root 253:0    0   17G  0 lvm  /
  ‚îî‚îÄrhel-swap 253:1    0    2G  0 lvm  [SWAP]
sdb      8:16   0   10G  0 disk
‚îî‚îÄsdb1   8:17   0   10G  0 part
sdc      8:32   0    5G  0 disk
‚îî‚îÄsdc1   8:33   0    5G  0 part
sde      8:64   0    5G  0 disk
‚îî‚îÄsde1   8:65   0    5G  0 part`,
            
            'fdisk /dev/sdb': `Welcome to fdisk (util-linux 2.37.4).
Changes will remain in memory only, until you decide to write them.
Be careful before using the write command.

Command (m for help): `,
            
            'pvcreate /dev/sdb1': 'Physical volume "/dev/sdb1" successfully created.',
            
            'vgcreate vgdata /dev/sdb1': 'Volume group "vgdata" successfully created.',
            
            'lvcreate -L 500M -n lvdata vgdata': 'Logical volume "lvdata" created.',
            
            'mkfs.xfs /dev/vgdata/lvdata': `meta-data=/dev/vgdata/lvdata   isize=512    agcount=4, agsize=32000 blks
         =                       sectsz=512   attr=2, projid32bit=1
         =                       crc=1        finobt=1, sparse=1, rmapbt=0
         =                       reflink=1
data     =                       bsize=4096   blocks=128000, imaxpct=25
         =                       sunit=0      swidth=0 blks
naming   =version 2              bsize=4096   ascii-ci=0, ftype=1
log      =internal log           bsize=4096   blocks=1366, version=2
         =                       sectsz=512   sunit=0 blks, lazy-count=1
realtime =none                   extsz=4096   blocks=0, rtextents=0`,
            
            'systemctl status httpd': `‚óè httpd.service - The Apache HTTP Server
   Loaded: loaded (/usr/lib/systemd/system/httpd.service; enabled; preset: disabled)
   Active: active (running) since Mon 2024-01-01 10:00:00 UTC; 1h ago
 Main PID: 1234 (httpd)
    Tasks: 213 (limit: 11336)
   Memory: 25.3M
   CGroup: /system.slice/httpd.service
           ‚îú‚îÄ1234 /usr/sbin/httpd -DFOREGROUND
           ‚îú‚îÄ1235 /usr/sbin/httpd -DFOREGROUND
           ‚îî‚îÄ1236 /usr/sbin/httpd -DFOREGROUND`,
            
            'getenforce': 'Enforcing',
            
            'firewall-cmd --add-port=82/tcp': 'success',
            
            'semanage port -a -t http_port_t -p tcp 82': 'Port 82 added to http_port_t.',
            
            'yum install httpd -y': `Last metadata expiration check: 0:01:23 ago
Dependencies resolved.
Package          Arch   Version          Repository      Size
Installing:
 httpd           x86_64 2.4.53-7.el9     rhel-9-appstream 1.5 M
Complete!`,
            
            'yum install podman -y': `Last metadata expiration check: 0:01:23 ago
Dependencies resolved.
Package          Arch   Version          Repository      Size
Installing:
 podman          x86_64 4.2.0-2.el9      rhel-9-appstream 15 M
Complete!`,
            
            'yum install tuned -y': `Last metadata expiration check: 0:01:23 ago
Dependencies resolved.
Package          Arch   Version          Repository      Size
Installing:
 tuned           x86_64 2.18.0-1.el9     rhel-9-appstream 500 k
Complete!`,
            
            'df -h': `Filesystem      Size  Used Avail Use% Mounted on
/dev/sda2        19G  5.2G   14G  28% /
/dev/sda1       976M  256M  653M  28% /boot
tmpfs           1.9G     0  1.9G   0% /dev/shm
/dev/mapper/vgdata-lvdata  500M   33M  468M   7% /mnt/data`,
            
            'free -h': `              total        used        free      shared  buff/cache   available
Mem:           3.9G        1.2G        1.5G         50M        1.2G        2.3G
Swap:          2.0G          0B        2.0G`,
            
            'ps aux | head -10': `USER       PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND
root         1  0.0  0.1 169316 13104 ?        Ss   10:00   0:01 /usr/lib/systemd/systemd
root         2  0.0  0.0      0     0 ?        S    10:00   0:00 [kthreadd]
root         3  0.0  0.0      0     0 ?        I<   10:00   0:00 [rcu_gp]`,
            
            'ls': `Desktop  Documents  Downloads  Music  Pictures  Public  Templates  Videos`,
            
            'pwd': '/root',
            
            'date': 'Mon Mar  1 10:30:00 UTC 2024',
            
            'uname -a': 'Linux rhcsa-lab 5.14.0-162.6.1.el9_1.x86_64 #1 SMP PREEMPT_DYNAMIC Wed Oct 4 15:00:00 EDT 2023 x86_64 x86_64 x86_64 GNU/Linux',
            
            'tar --gzip -cvf /root/etc_backup.tar.gz /etc': `tar: Removing leading '/' from member names
/etc/
/etc/fstab
/etc/passwd
/etc/group
... (arquivos continuam)`,
            
            'find / -user tom -type f -exec cp -pvf {} /root/tomfiles/ \\;': `'/home/tom/file1.txt' -> '/root/tomfiles/file1.txt'
'/home/tom/document.pdf' -> '/root/tomfiles/document.pdf'
...`,
            
            'podman images': `REPOSITORY                  TAG      IMAGE ID       CREATED        SIZE
image32                    latest   1234567890ab   2 hours ago   150MB`,
            
            'tuned-adm active': `Current active profile: virtual-guest`,
            
            'help': `=== COMANDOS DISPON√çVEIS ===

SISTEMA:
  whoami                    - Mostra o usu√°rio atual
  hostnamectl              - Informa√ß√µes do sistema
  hostnamectl set-hostname - Altera hostname
  ip addr show             - Configura√ß√£o de rede
  lsblk                    - Dispositivos de armazenamento
  df -h                    - Espa√ßo em disco
  free -h                  - Mem√≥ria e swap
  ps aux                   - Processos em execu√ß√£o
  ls, pwd, date            - Comandos b√°sicos
  uname -a                 - Informa√ß√µes do kernel

REDE:
  nmcli connection modify  - Configura rede
  systemctl restart NetworkManager - Reinicia rede
  firewall-cmd             - Gerencia firewall
  semanage port            - Gerencia portas SELinux

STORAGE:
  fdisk /dev/sdX           - Particiona disco
  pvcreate                 - Cria volume f√≠sico LVM
  vgcreate                 - Cria grupo de volumes
  lvcreate                 - Cria volume l√≥gico
  mkfs.xfs                 - Formata com XFS
  mkfs.ext4                - Formata com ext4

SERVI√áOS:
  systemctl status [servi√ßo] - Status do servi√ßo
  systemctl restart [servi√ßo] - Reinicia servi√ßo
  systemctl enable [servi√ßo]  - Habilita no boot
  getenforce            - Status SELinux

PACOTES:
  yum install [pacote]   - Instala pacote
  yum clean all          - Limpa cache

USU√ÅRIOS:
  useradd [nome]         - Cria usu√°rio
  groupadd [nome]        - Cria grupo
  usermod                - Modifica usu√°rio
  passwd [usu√°rio]       - Altera senha

ARQUIVOS:
  mkdir [diret√≥rio]      - Cria diret√≥rio
  chown [user]:[group] [arquivo] - Altera propriet√°rio
  chmod [permiss√µes] [arquivo] - Altera permiss√µes
  setfacl                - Configura ACL
  tar --gzip -cvf        - Compacta arquivos
  find                   - Busca arquivos

CONT√äINERES:
  podman images          - Lista imagens
  podman build           - Constr√≥i imagem
  podman run             - Executa cont√™iner
  podman login           - Login no registry

OUTROS:
  tuned-adm              - Gerencia tuned profiles
  crontab -e             - Edita cronjobs
  clear                  - Limpa a tela
  help                   - Mostra esta ajuda
  exit                   - Volta √†s abas

üí° Para testar solu√ß√µes, use o verificador na barra lateral.`
        };

        function adicionarSaidaTerminal(texto, tipo = 'normal') {
            const container = document.getElementById('terminal-output');
            if (!container) return;
            
            const div = document.createElement('div');
            div.className = 'terminal-output';
            
            let conteudo = `<span class="terminal-prompt">[root@rhcsa-lab ~]# </span>`;
            
            if (tipo === 'error') {
                conteudo += `<span class="terminal-error">${texto}</span>`;
            } else if (tipo === 'success') {
                conteudo += `<span class="terminal-success">${texto}</span>`;
            } else if (tipo === 'info') {
                conteudo += `<span class="terminal-info">${texto}</span>`;
            } else if (tipo === 'hint') {
                conteudo += `<span class="terminal-hint">${texto}</span>`;
            } else if (tipo === 'command') {
                conteudo += `<span class="terminal-command">${texto}</span>`;
            } else {
                conteudo += `<span>${texto}</span>`;
            }
            
            div.innerHTML = conteudo;
            container.appendChild(div);
            container.scrollTop = container.scrollHeight;
        }

        function executarComando() {
            const input = document.getElementById('terminal-input');
            let comando = input.value.trim();
            
            if (!comando) return;
            
            // Adicionar ao hist√≥rico
            comandosExecutados.push(comando);
            
            // Mostrar comando executado
            adicionarSaidaTerminal(`<span class="terminal-command">${comando}</span>`, 'command');
            
            // Processar comandos especiais
            if (comando === 'clear') {
                limparTerminal();
                input.value = '';
                return;
            }
            
            if (comando === 'exit') {
                adicionarSaidaTerminal('Use as abas para navegar. Digite "help" para ver comandos.', 'info');
                input.value = '';
                return;
            }
            
            // Verificar comando no dicion√°rio
            let encontrado = false;
            for (const [key, value] of Object.entries(comandosTerminal)) {
                if (comando === key || comando.startsWith(key + ' ')) {
                    adicionarSaidaTerminal(value, 'normal');
                    encontrado = true;
                    break;
                }
            }
            
            if (!encontrado) {
                // Verificar comandos parciais
                if (comando.includes('mkdir') || comando.includes('chmod') || comando.includes('chown') || 
                    comando.includes('useradd') || comando.includes('groupadd') || comando.includes('passwd') ||
                    comando.includes('echo') || comando.includes('vim') || comando.includes('vi')) {
                    adicionarSaidaTerminal(`Comando ${comando.split(' ')[0]} executado com sucesso.`, 'success');
                    encontrado = true;
                }
            }
            
            if (!encontrado) {
                adicionarSaidaTerminal(`bash: ${comando}: comando n√£o encontrado\nDigite 'help' para ajuda.`, 'error');
            }
            
            input.value = '';
            input.focus();
        }

        function inserirComando(comando) {
            const input = document.getElementById('terminal-input');
            if (input) {
                input.value = comando;
                input.focus();
            }
        }

        function limparTerminal() {
            const container = document.getElementById('terminal-output');
            if (container) {
                container.innerHTML = `
                    <div class="terminal-output">
                        <span class="terminal-prompt">[root@rhcsa-lab ~]# </span>
                        <span class="terminal-success">Terminal limpo. Digite 'help' para ajuda.</span>
                    </div>
                `;
                comandosExecutados = [];
            }
        }

        function mostrarAjuda() {
            adicionarSaidaTerminal(comandosTerminal.help, 'info');
        }

        // ==================== SISTEMA DE VERIFICA√á√ÉO ====================
        function verificarQuestao() {
            const select = document.getElementById('questao-verificar');
            const id = parseInt(select.value);
            
            if (!id) {
                alert('Selecione uma quest√£o primeiro!');
                return;
            }
            
            const questao = questoes.find(q => q.id == id);
            if (!questao) return;
            
            // Registrar tentativa
            tentativas[questao.id] = (tentativas[questao.id] || 0) + 1;
            localStorage.setItem('rhcsa-tentativas', JSON.stringify(tentativas));
            
            // Pegar √∫ltimos 10 comandos executados
            const comandosRelevantes = comandosExecutados.slice(-15);
            
            // Verificar cada item de verifica√ß√£o
            const verificacoes = questao.verificacoes || [];
            let pontos = 0;
            let feedback = [];
            
            verificacoes.forEach(verificacao => {
                const encontrado = comandosRelevantes.some(comando => 
                    comando.toLowerCase().includes(verificacao.toLowerCase())
                );
                
                if (encontrado) {
                    pontos += 1;
                    feedback.push(`‚úì ${verificacao}`);
                } else {
                    feedback.push(`‚úó ${verificacao}`);
                }
            });
            
            // Calcular percentual de acerto
            const percentual = (pontos / verificacoes.length) * 100;
            const aprovado = percentual >= 70; // 70% de acerto para aprovar
            
            // Mostrar resultado
            adicionarSaidaTerminal(`\nüìä VERIFICA√á√ÉO DA QUEST√ÉO ${questao.id}: ${questao.titulo}`, 'info');
            adicionarSaidaTerminal(`Pontua√ß√£o: ${pontos}/${verificacoes.length} (${Math.round(percentual)}%)`, 'info');
            
            if (aprovado) {
                progresso[questao.id] = true;
                localStorage.setItem('rhcsa-progresso', JSON.stringify(progresso));
                
                adicionarSaidaTerminal(`‚úÖ PARAB√âNS! Quest√£o resolvida corretamente!`, 'success');
                adicionarSaidaTerminal(`üìù Comandos verificados:`, 'info');
                feedback.forEach(item => {
                    if (item.startsWith('‚úì')) {
                        adicionarSaidaTerminal(`  ${item}`, 'success');
                    } else {
                        adicionarSaidaTerminal(`  ${item}`, 'error');
                    }
                });
                
                // Atualizar interface
                carregarQuestoes();
                atualizarProgresso();
                verificarCompletude();
            } else {
                adicionarSaidaTerminal(`‚ùå AINDA N√ÉO! Revise sua solu√ß√£o.`, 'error');
                adicionarSaidaTerminal(`üìù O que foi verificado:`, 'info');
                feedback.forEach(item => {
                    if (item.startsWith('‚úì')) {
                        adicionarSaidaTerminal(`  ${item}`, 'success');
                    } else {
                        adicionarSaidaTerminal(`  ${item}`, 'error');
                    }
                });
                
                adicionarSaidaTerminal(`\nüí° DICA: Execute estes comandos para completar:`, 'hint');
                const comandosSugeridos = questao.comando.split('\n').slice(0, 5);
                comandosSugeridos.forEach(cmd => {
                    if (cmd.trim() && !cmd.startsWith('#')) {
                        adicionarSaidaTerminal(`  ${cmd.substring(0, 80)}`, 'hint');
                    }
                });
            }
        }

        // ==================== DASHBOARD ====================
        function atualizarProgresso() {
            const total = questoes.length;
            const concluidas = Object.keys(progresso).length;
            const pendentes = total - concluidas;
            const tentadas = Object.keys(tentativas).length;
            const percentual = Math.round((concluidas / total) * 100);
            
            // Atualizar n√∫meros
            document.getElementById('total-questoes').textContent = total;
            document.getElementById('questoes-concluidas').textContent = concluidas;
            document.getElementById('questoes-pendentes').textContent = pendentes;
            document.getElementById('questoes-tentadas').textContent = tentadas;
            document.getElementById('progress-percent').textContent = `${percentual}%`;
            
            // Atualizar barra de progresso
            const progressBar = document.getElementById('progress-bar');
            if (progressBar) {
                progressBar.style.width = `${percentual}%`;
                progressBar.setAttribute('aria-valuenow', percentual);
            }
            
            // Atualizar tabela de progresso
            atualizarTabelaProgresso();
        }

        function atualizarTabelaProgresso() {
            const tbody = document.getElementById('tabela-progresso');
            if (!tbody) return;
            
            let html = '';
            questoes.forEach(q => {
                const concluida = progresso[q.id] || false;
                const tentativasCount = tentativas[q.id] || 0;
                const status = concluida ? 
                    '<span class="badge bg-success">Conclu√≠da</span>' : 
                    '<span class="badge bg-warning">Pendente</span>';
                
                html += `
                <tr>
                    <td>${q.id}</td>
                    <td>${q.titulo}</td>
                    <td>${q.node}</td>
                    <td>${q.topico}</td>
                    <td>${status}</td>
                    <td>${tentativasCount}</td>
                    <td>
                        <button class="btn btn-sm btn-outline-primary" onclick="mostrarDetalhesQuestao(${q.id})">
                            <i class="fas fa-eye"></i>
                        </button>
                    </td>
                </tr>
                `;
            });
            
            tbody.innerHTML = html;
        }

        // ==================== FUN√á√ïES DE COMPLETUDE ====================
        function verificarCompletude() {
            const total = questoes.length;
            const concluidas = Object.keys(progresso).length;
            
            if (concluidas >= total) {
                // Criar modal de congratula√ß√£o
                const modalHTML = `
                    <div class="modal fade" id="modalCompletude" tabindex="-1">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header bg-success text-white">
                                    <h5 class="modal-title"><i class="fas fa-trophy"></i> PARAB√âNS!</h5>
                                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                                </div>
                                <div class="modal-body text-center">
                                    <h3>üéâ Voc√™ completou 100% do RHCSA Study Lab! üéâ</h3>
                                    <p class="lead">Todas as ${total} quest√µes foram resolvidas com sucesso!</p>
                                    <div class="alert alert-info mt-3">
                                        <i class="fas fa-info-circle"></i>
                                        Deseja resetar seu progresso e come√ßar novamente?
                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                                        <i class="fas fa-times"></i> Continuar
                                    </button>
                                    <button type="button" class="btn btn-primary" onclick="resetarProgressoCompleto()">
                                        <i class="fas fa-redo"></i> Resetar Progresso
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
                
                // Remover modal existente
                const modalExistente = document.querySelector('#modalCompletude');
                if (modalExistente) {
                    modalExistente.remove();
                }
                
                // Adicionar novo modal
                document.body.insertAdjacentHTML('beforeend', modalHTML);
                
                // Mostrar modal
                const modal = new bootstrap.Modal(document.getElementById('modalCompletude'));
                modal.show();
            }
        }

        function resetarProgresso() {
            if (confirm('Tem certeza que deseja resetar todo o seu progresso? Todas as quest√µes marcadas como conclu√≠das ser√£o perdidas.')) {
                progresso = {};
                tentativas = {};
                localStorage.removeItem('rhcsa-progresso');
                localStorage.removeItem('rhcsa-tentativas');
                comandosExecutados = [];
                
                adicionarSaidaTerminal('üîÑ Progresso resetado com sucesso!', 'success');
                
                // Atualizar interface
                carregarQuestoes();
                atualizarProgresso();
            }
        }

        function resetarProgressoCompleto() {
            // Fechar modal
            const modal = bootstrap.Modal.getInstance(document.getElementById('modalCompletude'));
            if (modal) {
                modal.hide();
            }
            
            progresso = {};
            tentativas = {};
            localStorage.removeItem('rhcsa-progresso');
            localStorage.removeItem('rhcsa-tentativas');
            comandosExecutados = [];
            
            adicionarSaidaTerminal('üîÑ Progresso resetado! Pronto para come√ßar novamente!', 'success');
            
            // Atualizar interface
            carregarQuestoes();
            atualizarProgresso();
        }

        // ==================== INICIALIZA√á√ÉO ====================
        function inicializarDropdownVerificacao() {
            const select = document.getElementById('questao-verificar');
            if (!select) return;
            
            select.innerHTML = '<option value="">Selecione uma quest√£o...</option>';
            
            questoes.forEach(q => {
                const option = document.createElement('option');
                option.value = q.id;
                option.textContent = `Quest√£o ${q.id}: ${q.titulo}`;
                select.appendChild(option);
            });
        }

        document.addEventListener('DOMContentLoaded', function() {
            console.log('P√°gina carregada - RHCSA Study Lab');
            
            // Carregar quest√µes
            carregarQuestoes();
            
            // Configurar filtros
            document.getElementById('filtroNode').addEventListener('change', carregarQuestoes);
            document.getElementById('filtroDificuldade').addEventListener('change', carregarQuestoes);
            document.getElementById('filtroTopico').addEventListener('change', carregarQuestoes);
            document.getElementById('btnResetFiltros').addEventListener('click', function() {
                document.getElementById('filtroNode').value = 'all';
                document.getElementById('filtroDificuldade').value = 'all';
                document.getElementById('filtroTopico').value = 'all';
                carregarQuestoes();
            });
            
            // Configurar bot√£o de resetar progresso
            document.getElementById('btnResetProgresso').addEventListener('click', resetarProgresso);
            
            // Configurar terminal
            document.getElementById('btnExecutar').addEventListener('click', executarComando);
            document.getElementById('terminal-input').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    executarComando();
                }
            });
            
            // Configurar bot√£o de verifica√ß√£o
            document.getElementById('btnVerificar').addEventListener('click', verificarQuestao);
            
            // Inicializar dropdown
            inicializarDropdownVerificacao();
            
            // Atualizar progresso
            atualizarProgresso();
            
            // Mensagem de boas-vindas
            console.log('RHCSA Study Lab inicializado com sucesso!');
            console.log('Total de quest√µes:', questoes.length);
        });
    </script>
</body>
</html>
